output$adult_alewife_SAV_map <- renderLeaflet({
min_value <- min(values(SAV_adult_alewife), na.rm = TRUE)
max_value <- max(values(SAV_adult_alewife), na.rm = TRUE)
leaflet() %>%
addProviderTiles("Esri.WorldImagery") %>%
setView(lng = -70.7916, lat = 41.3328, zoom = 12) %>%
addRasterImage(SAV_adult_alewife, colors = viridis(10)) %>%
addLegend("bottomright", pal = colorNumeric(rev(viridis(10)), domain = c(1, 0)), values = seq(1, 0), title = "SAV Suitability", labFormat = labelFormat(transform = function(x) sort(x, decreasing = TRUE)))
})
library(leaflet)
output$adult_alewife_SAV_map <- renderLeaflet({
min_value <- min(values(SAV_adult_alewife), na.rm = TRUE)
max_value <- max(values(SAV_adult_alewife), na.rm = TRUE)
leaflet() %>%
addProviderTiles("Esri.WorldImagery") %>%
setView(lng = -70.7916, lat = 41.3328, zoom = 12) %>%
addRasterImage(SAV_adult_alewife, colors = viridis(10)) %>%
addLegend("bottomright", pal = colorNumeric(rev(viridis(10)), domain = c(1, 0)), values = seq(1, 0), title = "SAV Suitability", labFormat = labelFormat(transform = function(x) sort(x, decreasing = TRUE)))
})
renderLeaflet({
min_value <- min(values(SAV_adult_alewife), na.rm = TRUE)
max_value <- max(values(SAV_adult_alewife), na.rm = TRUE)
leaflet() %>%
addProviderTiles("Esri.WorldImagery") %>%
setView(lng = -70.7916, lat = 41.3328, zoom = 12) %>%
addRasterImage(SAV_adult_alewife, colors = viridis(10)) %>%
addLegend("bottomright", pal = colorNumeric(rev(viridis(10)), domain = c(1, 0)), values = seq(1, 0), title = "SAV Suitability", labFormat = labelFormat(transform = function(x) sort(x, decreasing = TRUE)))
})
shiny::runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
plot(SAV_juv_blueback)
SAV_juv_blueback <- terra::rast("www/nonmigratory_juvenile_blueback_habitat_SAV_data.tif")
SAV_juv_blueback <- drop_z(SAV_juv_blueback)
# Load packages
library(shiny)
library(shinydashboard)
library(leaflet)
library(terra)
library(viridis)
library(plotly)
library(shinythemes)
library(ggiraph)
library(dplyr)
library(ggmap)
library(leaflet.extras)
library(DT)
SAV_adult_alewife <- terra::rast("www/adult_alewife_habitat_SAV_data.tif")
SAV_adult_alewife <- drop_z(SAV_adult_alewife)
# Function to ensure rasters are 2D
drop_z <- function(r) {
if (terra::nlyr(r) == 1) {
return(r)
} else {
return(r[[1]])
}
}
SAV_adult_alewife <- terra::rast("www/adult_alewife_habitat_SAV_data.tif")
SAV_adult_alewife <- drop_z(SAV_adult_alewife)
SAV_egg_alewife <- terra::rast("www/egg_larvae_alewife_habitat_SAV_data.tif")
SAV_egg_alewife <- drop_z(SAV_egg_alewife)
SAV_juv_alewife <- terra::rast("www/nonmigratory_juvenile_alewife_habitat_SAV_data.tif")
SAV_juv_alewife <- drop_z(SAV_juv_alewife)
plot(SAV_adult_alewife)
plot(SAV_egg_alewife)
plot(SAV_juv_alewife)
substrate_juv_alewife <- terra::rast("www/nonmigratory_juvenile_alewife_habitat_Substrate_data.tif")
substrate_juv_alewife <- drop_z(substrate_juv_alewife)
plot(substrate_juv_alewife)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
SAV_adult_blueback <- terra::rast("www/adult_blueback_habitat_SAV_data.tif")
SAV_adult_blueback <- drop_z(SAV_adult_blueback)
plot(SAV_adult_blueback)
runApp()
plot(SAV_egg_alewife)
runApp()
plot(SAV_adult_blueback)
runApp()
substrate_juv_blueback <- terra::rast("www/nonmigratory_juvenile_blueback_habitat_Substrate_data.tif")
substrate_juv_blueback <- drop_z(substrate_juv_blueback)
plot(substrate_juv_blueback)
runApp()
viridis(10)
runApp()
substrate_egg_blueback <- terra::rast("www/egg_larvae_blueback_habitat_Substrate_data.tif")
substrate_egg_blueback <- drop_z(substrate_egg_blueback)
plot(substrate_egg_blueback)
runApp()
runApp()
substrate_juv_alewife <- terra::rast("www/nonmigratory_juvenile_alewife_habitat_Substrate_data.tif")
substrate_juv_alewife <- drop_z(substrate_juv_alewife)
substrate_egg_alewife <- terra::rast("www/egg_larvae_alewife_habitat_Substrate_data.tif")
substrate_egg_alewife <- drop_z(substrate_egg_alewife)
substrate_adult_alewife <- terra::rast("www/adult_alewife_habitat_Substrate_data.tif")
substrate_adult_alewife <- drop_z(substrate_adult_alewife)
plot(substrate_juv_alewife)
runApp()
velocity_adult_alewife <- terra::rast("www/adult_alewife_habitat_Velocity_data.tif")
velocity_adult_alewife <- drop_z(velocity_adult_alewife)
plot(velocity_adult_alewife)
runApp()
temp_adult_alewife <- terra::rast("www/adult_alewife_habitat_Temp_data.tif")
temp_adult_alewife <- drop_z(temp_adult_alewife)
depth_adult_alewife <- terra::rast("www/adult_alewife_habitat_Depth_data.tif")
depth_adult_alewife <- drop_z(depth_adult_alewife)
salinity_adult_alewife <- terra::rast("www/adult_alewife_habitat_Salinity_data.tif")
salinity_adult_alewife <- drop_z(salinity_adult_alewife)
plot(salinity_adult_alewife)
runApp()
plot(depth_adult_alewife)
runApp()
plot(temp_adult_alewife)
runApp()
plot(depth_adult_alewife)
plot(salinity_adult_alewife)
plot(velocity_adult_alewife)
plot(substrate_adult_alewife)
plot(SAV_adult_alewife)
runApp()
runApp()
# individual HSI Map: egg Alewife
temp_egg_alewife <- terra::rast("www/egg_larvae_alewife_habitat_Temp_data.tif")
temp_egg_alewife <- drop_z(temp_egg_alewife)
depth_egg_alewife <- terra::rast("www/egg_larvae_alewife_habitat_Depth_data.tif")
depth_egg_alewife <- drop_z(depth_egg_alewife)
salinity_egg_alewife <- terra::rast("www/egg_larvae_alewife_habitat_Salinity_data.tif")
salinity_egg_alewife <- drop_z(salinity_egg_alewife)
velocity_egg_alewife <- terra::rast("www/egg_larvae_alewife_habitat_Velocity_data.tif")
velocity_egg_alewife <- drop_z(velocity_egg_alewife)
substrate_egg_alewife <- terra::rast("www/egg_larvae_alewife_habitat_Substrate_data.tif")
substrate_egg_alewife <- drop_z(substrate_egg_alewife)
SAV_egg_alewife <- terra::rast("www/egg_larvae_alewife_habitat_SAV_data.tif")
SAV_egg_alewife <- drop_z(SAV_egg_alewife)
runApp()
plot(velocity_egg_alewife)
runApp()
plot(salinity_egg_alewife)
runApp()
plot(depth_egg_alewife)
plot(temp_egg_alewife)
runApp()
# individual HSI Map: egg Alewife
temp_juv_alewife <- terra::rast("www/nonmigratory_juvenile_alewife_habitat_Temp_data.tif")
temp_juv_alewife <- drop_z(temp_juv_alewife)
depth_juv_alewife <- terra::rast("www/nonmigratory_juvenile_alewife_habitat_Depth_data.tif")
depth_juv_alewife <- drop_z(depth_juv_alewife)
salinity_juv_alewife <- terra::rast("www/nonmigratory_juvenile_alewife_habitat_Salinity_data.tif")
salinity_juv_alewife <- drop_z(salinity_juv_alewife)
velocity_juv_alewife <- terra::rast("www/nonmigratory_juvenile_alewife_habitat_Velocity_data.tif")
velocity_juv_alewife <- drop_z(velocity_juv_alewife)
substrate_juv_alewife <- terra::rast("www/nonmigratory_juvenile_alewife_habitat_Substrate_data.tif")
substrate_juv_alewife <- drop_z(substrate_juv_alewife)
SAV_juv_alewife <- terra::rast("www/nonmigratory_juvenile_alewife_habitat_SAV_data.tif")
SAV_juv_alewife <- drop_z(SAV_juv_alewife)
plot(temp_juv_alewife)
plot(depth_juv_alewife)
plot(salinity_juv_alewife)
plot(velocity_juv_alewife)
runApp()
